<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Mes manuels en ligne</title>
  <!-- Favicon -->
  <link rel="icon" href="monlogo.png" type="image/png">
  
  <!-- Police Oswald (similaire √† Britannic Bold) -->
  <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@700&display=swap" rel="stylesheet">

  <style>
    body {
      font-family: 'Oswald', sans-serif; /* Remplace par 'BritannicBold' si tu as le fichier .ttf */
      text-align: center;
      background: linear-gradient(to right, #89f7fe, #66a6ff);
      margin: 20px;
    }
    h1 {
      font-weight: bold;
      font-style: italic;
      color: #fff;
      text-shadow: 2px 2px #00000050;
    }

    /* Boutons pour les liens */
    a {
      display: inline-block;
      margin: 15px;
      padding: 12px 25px;
      font-size: 18px;
      color: white;
      background-color: #007bff;
      border-radius: 10px;
      text-decoration: none;
      transition: 0.3s;
    }
    a:hover {
      background-color: #0056b3;
    }

    /* Jeu poule */
    #game {
      position: relative;
      width: 400px;
      height: 300px;
      background: #7ec850;
      border: 2px solid #000;
      margin: 50px auto 20px auto;
      overflow: hidden;
    }
    .road {
      position:absolute;
      width:100%;
      height:80px;
      background:#555;
    }
  </style>
</head>
<body>

  <h1>Mes manuels en ligne</h1>

  <!-- Tes liens -->
  <a href="https://mesmanuels.fr/acces-libre/9782401058927">Physique</a>
  <a href="https://mesmanuels.fr/acces-libre/9782017092544">Histoire</a>
  <a href="https://mesmanuels.fr/acces-libre/9782401049697">Maths</a>

  <!-- Jeu poule -->
  <h2>üêî Traverse la route !</h2>
  <div id="game">
    <!-- Routes -->
    <div class="road" style="top:50px;"></div>
    <div class="road" style="top:150px;"></div>

    <!-- Poule -->
    <img id="chicken" src="chicken.png" style="position: absolute; width: 40px; height: 40px; left: 180px; bottom: 0px;">

    <!-- Voitures -->
    <img class="car" src="car.png" style="position: absolute; width: 50px; height: 30px; top: 60px; left: 0px;">
    <img class="car" src="car.png" style="position: absolute; width: 50px; height: 30px; top: 160px; left: 200px;">
  </div>
  <p id="status" style="text-align:center; font-weight:bold;"></p>
  <p id="scoreDisplay" style="text-align:center;">Score : 0</p>

  <script>
    const chicken = document.getElementById('chicken');
    const cars = document.querySelectorAll('.car');
    const game = document.getElementById('game');
    const status = document.getElementById('status');
    const scoreDisplay = document.getElementById('scoreDisplay');

    let chickenPos = {x: 180, y: 0};
    let score = 0;

    document.addEventListener('keydown', (e) => {
      const step = 20;
      if(e.key === 'ArrowUp') chickenPos.y = Math.min(game.clientHeight - 40, chickenPos.y + step);
      if(e.key === 'ArrowDown') chickenPos.y = Math.max(0, chickenPos.y - step);
      if(e.key === 'ArrowLeft') chickenPos.x = Math.max(0, chickenPos.x - step);
      if(e.key === 'ArrowRight') chickenPos.x = Math.min(game.clientWidth - 40, chickenPos.x + step);
      chicken.style.left = chickenPos.x + 'px';
      chicken.style.bottom = chickenPos.y + 'px';
      
      if(chickenPos.y >= game.clientHeight - 40){
        score++;
        scoreDisplay.textContent = "Score : " + score;
        chickenPos = {x:180, y:0};
        chicken.style.left = chickenPos.x + 'px';
        chicken.style.bottom = chickenPos.y + 'px';
      }
    });

    function moveCars(){
      cars.forEach(car => {
        let left = parseInt(car.style.left);
        left += 4; // vitesse
        if(left > game.clientWidth) left = -50;
        car.style.left = left + 'px';
        
        // collision
        const carRect = car.getBoundingClientRect();
        const chickenRect = chicken.getBoundingClientRect();
        if(!(carRect.right < chickenRect.left || carRect.left > chickenRect.right || 
             carRect.bottom < chickenRect.top || carRect.top > chickenRect.bottom)){
          status.textContent = "üí• Oh non ! La poule s'est fait √©craser !";
          chickenPos = {x:180, y:0};
          chicken.style.left = chickenPos.x + 'px';
          chicken.style.bottom = chickenPos.y + 'px';
          score = Math.max(0, score - 1);
          scoreDisplay.textContent = "Score : " + score;
        } else {
          status.textContent = "";
        }
      });
      requestAnimationFrame(moveCars);
    }

    moveCars();
  </script>

</body>
</html>
